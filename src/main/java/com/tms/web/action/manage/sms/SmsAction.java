package com.tms.web.action.manage.sms;import com.tms.services.manage.sms.SmsService;import com.tms.services.manage.sms.bean.Sms;import com.tms.core.ManageContainer;import com.tms.core.sms.SMSWebChinese;import com.tms.web.action.BaseController;import com.tms.web.util.RequestHolder;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.tuckey.web.filters.urlrewrite.utils.StringUtils;/** * 短信管理 * @author jqsl2012@163.com * */@Controller@RequestMapping("sms")public class SmsAction extends BaseController<Sms> {	private static final long serialVersionUID = 1L;	@Autowired	private SmsService smsService;	public SmsService getService() {		return smsService;	}	/**	 * 重发短信	 * @return	 * @throws Exception	 */	@RequestMapping("updateSendSMS")	public String updateSendSMS(Sms e) throws Exception{		if(StringUtils.isBlank(e.getId())){			throw new NullPointerException(ManageContainer.RoleAction_update_error);		}				e = smsService.selectById(e.getId());		if(e==null){			throw new NullPointerException("系统查询不到此短信！");		}				SMSWebChinese.sendSMS(e);				Sms sms = new Sms();		sms.setId(e.getId());		sms.setReturnCode(e.getReturnCode());		smsService.update(e);				return selectList(RequestHolder.getRequest(), e);	}}